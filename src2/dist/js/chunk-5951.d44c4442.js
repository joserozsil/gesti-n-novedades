(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5951"],{"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},4694:function(t,e,n){"use strict";var a=n("d9f4"),r=n.n(a);r.a},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),r=n("0bfb"),o=n("9e1e"),i="toString",s=/./[i],u=function(t){n("2aba")(RegExp.prototype,i,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):s.name!=i&&u(function(){return s.call(this)})},d9f4:function(t,e,n){},dc02:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",{attrs:{cols:"12",xl:"12"}},[n("transition",{attrs:{name:"slide"}},[n("b-card",{attrs:{header:t.caption}},[n("b-table",{attrs:{hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,responsive:"sm",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage},scopedSlots:t._u([{key:"cedula",fn:function(e){return[n("strong",[t._v(t._s(e.item.cedula))])]}},{key:"usuario",fn:function(e){return[n("strong",[t._v(t._s(e.item.usuario))])]}},{key:"nombre",fn:function(e){return[n("strong",[t._v(t._s(e.item.nombre)+" "+t._s(e.item.apellido))])]}},{key:"rol",fn:function(e){return[n("select",{directives:[{name:"model",rawName:"v-model",value:e.item.rol,expression:"data.item.rol"}],staticClass:"form-control",on:{change:[function(n){var a=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e.item,"rol",n.target.multiple?a:a[0])},function(n){t.setRol(e.item.id,e.item.rol)}]}},[n("option",{attrs:{value:"ADMINISTRADOR"}},[t._v("ADMINISTRADOR")]),n("option",{attrs:{value:"RECEPCION"}},[t._v("RECEPCIONISTA")]),n("option",{attrs:{value:"OPERADOR_LABORATORIO"}},[t._v("OPERADOR DE LABORATORIO")]),n("option",{attrs:{value:"OPERADOR_BALISTICA"}},[t._v("OPERADOR DE BALISTICA")]),n("option",{attrs:{value:"OPERADOR_HECHOS"}},[t._v("OPERADOR DE RECONSTRUCCIÓN DE HECHOS")])])]}},{key:"acción",fn:function(e){return[n("b-button",{staticClass:"btn-pill",attrs:{variant:"success"},on:{click:function(n){t.goToUpdate(e.item.id)}}},[t._v("Actualizar")]),n("b-button",{staticClass:"btn-pill",attrs:{variant:"danger"},on:{click:function(n){t.deleteUser(e.item.id)}}},[t._v("\n            Suspender\n          ")])]}}])}),n("nav",[n("b-pagination",{attrs:{size:"sm","total-rows":t.getRowCount(t.items),"per-page":t.perPage,"prev-text":"Prev","next-text":"Next","hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)],1)},r=[],o=(n("6b54"),n("bb36")),i=n("db49"),s=n("1940"),u=n.n(s),c={name:"Usuarios",data:function(){return{items:[],fields:[{key:"cedula"},{key:"usuario"},{key:"nombre"},{key:"rol"},{key:"acción"}],currentPage:1,perPage:15,totalRows:0}},props:{caption:{type:String,default:"Lista de Usuarios"},hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1}},mounted:function(){this.getUsers()},methods:{getBadge:function(t){return"Active"===t?"success":"Inactive"===t?"secondary":"Pending"===t?"warning":"Banned"===t?"danger":"primary"},getRowCount:function(t){return t.length},userLink:function(t){return"users/".concat(t.toString())},rowClicked:function(t){var e=this.userLink(t.id);this.$router.push({path:e})},goToUpdate:function(t){this.$router.push({name:"userUpdate",params:{id:t}})},getUsers:function(){var t=this;o["a"].get("".concat(i["a"].API_URL,"/users?limit=1")).then(function(e){o["a"].get("".concat(i["a"].API_URL,"/users?limit=").concat(e.total)).then(function(e){t.items=e.data.data})})},deleteUser:function(t){var e=this;u()({title:"¿Estás seguro que desea suspender el usuario?",text:"Esta acción no se podrá deshacer",icon:"warning",buttons:!0,dangerMode:!0}).then(function(n){n&&o["a"].delete("".concat(i["a"].API_URL,"/users/").concat(t)).then(function(t){e.getUsers()})})},setRol:function(t,e){o["a"].put("".concat(i["a"].API_URL,"/users/").concat(t),{rol:e}).then(function(t){u()({title:"Usuario actualizado correctamente",text:"El usuario ".concat(t.data.usuario," se le ha asignado el rol ").concat(e),icon:"success"})})}}},l=c,d=(n("4694"),n("2877")),f=Object(d["a"])(l,a,r,!1,null,"e4870b42",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-5951.d44c4442.js.map