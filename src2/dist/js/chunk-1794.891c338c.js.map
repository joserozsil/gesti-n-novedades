{"version":3,"sources":["webpack:///./src/store/store.js","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/_object-assign.js","webpack:///./src/views/pages/Login.vue?949c","webpack:///src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?92b0","webpack:///./src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?e55d","webpack:///./node_modules/core-js/modules/es6.object.assign.js"],"names":["store","vuex__WEBPACK_IMPORTED_MODULE_1__","Store","state","user","count","token","mutations","setDataUser","Object","assign","setToken","increment","__webpack_exports__","exports","f","getOwnPropertySymbols","propertyIsEnumerable","getKeys","__webpack_require__","gOPS","pIE","toObject","IObject","$assign","module","A","B","S","Symbol","K","split","forEach","k","keys","join","target","source","T","aLen","arguments","length","index","getSymbols","isEnum","key","concat","j","call","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","md","no-body","_v","type","placeholder","autocomplete","model","value","loginData","callback","$$v","$set","expression","on","keyup","$event","_k","keyCode","signIn","cols","variant","click","staticRenderFns","Loginvue_type_script_lang_js_","name","data","alertCount","ip","usuario","contraseña","mounted","_this","getUserIP","console","log","methods","_this2","axios","post","config","API_URL","then","resp","status","localStorage","setItem","$store","commit","usuario_id","id","other","sweetalert_min_default","nombre","$router","push","catch","error","response","message","storeAlert","_this3","onNewIP","myPeerConnection","window","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","pc","iceServers","noop","localIPs","ipRegex","iterateIP","createDataChannel","createOffer","sdp","line","indexOf","match","setLocalDescription","reason","onicecandidate","ice","candidate","pages_Loginvue_type_script_lang_js_","component","componentNormalizer","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_90ee0c0a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","$export","F"],"mappings":"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","file":"js/chunk-1794.891c338c.js","sourcesContent":["import Vuex from 'vuex'\n\nconst store = new Vuex.Store({\n    state: {\n        user: {},\n        count: 0,\n        token: ''\n    },\n    mutations: {\n        setDataUser (state, user) {\n            Object.assign(state.user, user)\n        },\n        setToken(state, token) {\n            state.token = token \n        },\n        increment (state) {\n            state.count++\n        }\n    }\n  })\n\n  export default store","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img-bg app flex-row align-items-center\"},[_c('div',{staticClass:\"container\"},[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"md\":\"8\"}},[_c('b-card-group',{staticClass:\"card-signin\"},[_c('b-card',{staticClass:\"p-4\",attrs:{\"no-body\":\"\"}},[_c('b-card-body',[_c('b-form',[_c('h1',[_vm._v(\"Iniciar Sesión\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Iniciar sesión en el sistema\")]),_c('b-input-group',{staticClass:\"mb-3\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"icon-user\"})])],1),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Usuario\",\"autocomplete\":\"username email\"},model:{value:(_vm.loginData.usuario),callback:function ($$v) {_vm.$set(_vm.loginData, \"usuario\", $$v)},expression:\"loginData.usuario\"}})],1),_c('b-input-group',{staticClass:\"mb-4\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"icon-lock\"})])],1),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Contraseña\",\"autocomplete\":\"current-password\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.signIn()}},model:{value:(_vm.loginData.contraseña),callback:function ($$v) {_vm.$set(_vm.loginData, \"contraseña\", $$v)},expression:\"loginData.contraseña\"}})],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-button',{staticClass:\"px-4\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){_vm.signIn()}}},[_vm._v(\"\\n                        Iniciar Sesión\\n                    \")])],1),_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"6\"}})],1)],1)],1)],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"img-bg app flex-row align-items-center\">\n    <div class=\"container\">\n      <b-row class=\"justify-content-center\">\n        <b-col md=\"8\">\n          <b-card-group class=\"card-signin\">\n            <b-card no-body class=\"p-4\">\n              <b-card-body>\n                <b-form>\n                  <h1>Iniciar Sesión</h1>\n                  <p class=\"text-muted\">Iniciar sesión en el sistema</p>\n                  <b-input-group class=\"mb-3\">\n                    <b-input-group-prepend>\n                      <b-input-group-text><i class=\"icon-user\"></i></b-input-group-text></b-input-group-prepend>\n                      <b-form-input v-model=\"loginData.usuario\" type=\"text\" class=\"form-control\" placeholder=\"Usuario\" autocomplete=\"username email\" />\n                  </b-input-group>\n                  <b-input-group class=\"mb-4\">\n                    <b-input-group-prepend><b-input-group-text><i class=\"icon-lock\"></i></b-input-group-text></b-input-group-prepend>\n                    <b-form-input @keyup.enter=\"signIn()\" v-model=\"loginData.contraseña\" type=\"password\" class=\"form-control\" placeholder=\"Contraseña\" autocomplete=\"current-password\" />\n                  </b-input-group>\n                  <b-row>\n                    <b-col cols=\"6\">\n                      <b-button @click=\"signIn()\" variant=\"primary\" class=\"px-4\">\n                          Iniciar Sesión\n                      </b-button>\n                    </b-col>\n                    <b-col cols=\"6\" class=\"text-right\">\n                      <!--<b-button variant=\"link\" class=\"px-0\">¿Ha olvidado su contraseña?</b-button>-->\n                    </b-col>\n                  </b-row>\n                </b-form>\n              </b-card-body>\n            </b-card>\n          </b-card-group>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n\n<script>\n  import store from '../../store/store'\n\n  import axios from '../../axios'\n  import settings from '../../config'\n  import swal from 'sweetalert';\n\n  export default {\n    name: 'Login',\n    data: () => {\n      return {\n        alertCount: 0,\n        ip: '',\n        loginData: {\n          usuario: 'jrodriguez',\n          contraseña: 'Joseangel19$'\n        }\n      }\n    },\n    store,\n    mounted() {\n      this.getUserIP((ip) => {\n        console.log(ip)\n        this.ip = ip\n      })\n    },\n    methods: {\n      signIn() {\n        axios.post(settings.API_URL + '/signin', this.loginData)\n        .then(resp => {\n          if(resp.status == 200) {\n            localStorage.setItem('token', resp.data.token)\n            this.$store.commit('setDataUser', resp.data.user)\n            axios.post(settings.API_URL + '/history', { usuario_id: resp.data.user.id }).then(other => {\n              swal(\"¡Listo!\", `Bienvenido al sistema ${resp.data.user.nombre}`, \"success\")\n              this.$router.push({ name: 'Dashboard' })\n              //console.dir(this.$store.state)\n            })\n          }\n        })\n        .catch(error => {\n          swal(\"¡Atención!\", error.response.data.message, \"error\")\n          this.alertCount++\n          if(this.alertCount >= 2) {\n            this.storeAlert()\n          }\n        })\n      },\n      storeAlert() {\n        axios.post(settings.API_URL + '/alerts', { ip: this.ip,usuario: this.loginData.usuario })\n        .then(resp => {\n          this.alertCount = 0\n        })\n      },\n      getUserIP(onNewIP) {\n        var myPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\n        \n        var pc = new myPeerConnection({\n            iceServers: []\n        }),\n        noop = function() {},\n        localIPs = {},\n        ipRegex = /([0-9]{1,3}(\\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,\n        key;\n\n        function iterateIP(ip) {\n            if (!localIPs[ip]) onNewIP(ip);\n            localIPs[ip] = true;\n        }\n\n        //create a bogus data channel\n        pc.createDataChannel(\"\");\n\n        // create offer and set local description\n        pc.createOffer().then(function(sdp) {\n            sdp.sdp.split('\\n').forEach(function(line) {\n                if (line.indexOf('candidate') < 0) return;\n                line.match(ipRegex).forEach(iterateIP);\n            });\n            pc.setLocalDescription(sdp, noop, noop);\n        }).catch(function(reason) {\n            // An error occurred, so handle the failure to connect\n        });\n\n        //listen for candidate events\n        pc.onicecandidate = function(ice) {\n            if (!ice || !ice.candidate || !ice.candidate.candidate || !ice.candidate.candidate.match(ipRegex)) return;\n            ice.candidate.candidate.match(ipRegex).forEach(iterateIP);\n        };\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .img-bg {\n      background: url(http://acn.com.ve/wp-content/uploads/2018/06/muerto-el-chato.jpg);\n      background-repeat: no-repeat;\n      background-size: cover;\n  }\n\n  .img-bg:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0,0,0,.5);\n    z-index: 5;\n  }\n\n  .card-signin {\n    position: relative;\n    z-index: 10;\n  }\n\n  .white {\n    color: white;\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=90ee0c0a&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=90ee0c0a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"90ee0c0a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=90ee0c0a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=90ee0c0a&scoped=true&lang=css&\"","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n"],"sourceRoot":""}