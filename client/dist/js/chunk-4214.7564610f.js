(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4214"],{"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3b01":function(t,e,n){},"41b8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",{attrs:{md:"4",sm:"6"}},[n("b-form-group",{attrs:{label:"Fecha de Inicio","laber-for":"date",horizontal:!1}},[n("b-form-input",{attrs:{type:"date",placeholder:"Buscar por fecha inicia"},model:{value:t.initialDate,callback:function(e){t.initialDate=e},expression:"initialDate"}})],1)],1),n("b-col",{attrs:{md:"4",sm:"6"}},[n("b-form-group",{attrs:{label:"Fecha Final","laber-for":"date",horizontal:!1}},[n("b-form-input",{attrs:{type:"date",placeholder:"Buscar por fecha final"},model:{value:t.finalDate,callback:function(e){t.finalDate=e},expression:"finalDate"}})],1)],1),n("b-col",{attrs:{cols:"12",xl:"12"}},[n("transition",{attrs:{name:"slide"}},[n("b-card",{attrs:{header:t.caption}},[n("b-table",{attrs:{hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,responsive:"sm",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage},scopedSlots:t._u([{key:"id",fn:function(e){return[n("strong",[t._v(t._s(e.item.id))])]}},{key:"tipo",fn:function(e){return[n("strong",[t._v(t._s(e.item.tipo_recepcion))])]}},{key:"usuario",fn:function(e){return[n("strong",[t._v(t._s(e.item.Usuario.nombre)+" "+t._s(e.item.Usuario.apellido))])]}},{key:"departamento",fn:function(e){return[n("strong",[t._v(t._s(e.item.departamento))])]}},{key:"descripción",fn:function(e){return[n("strong",[t._v(t._s(t._f("textShort")(e.item.descripcion)))])]}},{key:"fecha",fn:function(e){return[t._v("\n          "+t._s(t._f("listDate")(e.item.f_creacion))+"\n        ")]}},{key:"estado",fn:function(e){return[n("b-badge",{directives:[{name:"b-popover",rawName:"v-b-popover.hover",value:"Indica si la cronologia ha sido compleada, o se encuentra en proceso de revisión.",expression:"'Indica si la cronologia ha sido compleada, o se encuentra en proceso de revisión.'",modifiers:{hover:!0}}],attrs:{title:"Estado"}},[t._v(t._s(e.item.estado))])]}},{key:"acción",fn:function(e){return[(t.isDepartament(e.item.departamento)||"ADMINISTRADOR"==t.user.rol)&&t.isEnabled(e.item.f_creacion)&&"COMPLETADO"!=e.item.estado?n("b-button",{staticClass:"btn-pill",attrs:{variant:"primary"},on:{click:function(n){t.goToEdit(e.item.departamento,e.item.id)}}},[t._v("\n            Actualizar\n          ")]):t._e(),"ADMINISTRADOR"!=t.user.rol&&"RECEPCION"!=t.user.rol||!t.isEnabled(e.item.f_creacion)||"COMPLETADO"==e.item.estado?t._e():n("b-button",{staticClass:"btn-pill",attrs:{variant:"success"},on:{click:function(n){t.goToEditReception(e.item.id)}}},[t._v("\n            Editar\n          ")])]}}])}),n("nav",[n("b-pagination",{attrs:{size:"sm","total-rows":t.getRowCount(t.items),"per-page":t.perPage,"prev-text":"Prev","next-text":"Next","hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)],1)},i=[],o=(n("28a5"),n("6b54"),n("db49")),r=n("c1df"),c=n.n(r),s={name:"Usuarios",props:{caption:{type:String,default:"Listado de Cronologías"},hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1}},data:function(){return{items:[],fields:[{key:"tipo"},{key:"usuario"},{key:"descripción"},{key:"departamento"},{key:"fecha"},{key:"estado"},{key:"acción"}],currentPage:1,perPage:15,totalRows:0,user:null,initialDate:c()().format("YYYY-MM-DD"),finalDate:c()().format("YYYY-MM-DD")}},computed:{},watch:{initialDate:function(){var t=this;Event.$emit("loading"),axios.get("".concat(o["a"].API_URL,"/evidences?limit=1")).then(function(e){axios.get("".concat(o["a"].API_URL,"/evidences?limit=").concat(e.total,"&DATE_MIN=").concat(t.initialDate,"&DATE_MAX=").concat(t.finalDate)).then(function(e){t.items=e.data.data,Event.$emit("stopLoading")})}).catch(function(t){Event.$emit("stopLoading"),console.dir(t)})},finalDate:function(){var t=this;Event.$emit("loading"),axios.get("".concat(o["a"].API_URL,"/evidences?limit=1")).then(function(e){axios.get("".concat(o["a"].API_URL,"/evidences?limit=").concat(e.total,"&DATE_MIN=").concat(t.initialDate,"&DATE_MAX=").concat(t.finalDate)).then(function(e){t.items=e.data.data,Event.$emit("stopLoading")})}).catch(function(t){Event.$emit("stopLoading"),console.dir(t)})}},mounted:function(){axios.defaults.headers.common["authorization"]=localStorage.getItem("token"),this.user=this.$store.state.user,this.getChronologies()},methods:{getBadge:function(t){return"Active"===t?"success":"Inactive"===t?"secondary":"Pending"===t?"warning":"Banned"===t?"danger":"primary"},getRowCount:function(t){return t.length},userLink:function(t){return"users/".concat(t.toString())},rowClicked:function(t){var e=this.userLink(t.id);this.$router.push({path:e})},getUsername:function(t){return t.split(" ")[0]},getChronologies:function(){var t=this;Event.$emit("loading"),axios.get("".concat(o["a"].API_URL,"/evidences?limit=1")).then(function(e){axios.get("".concat(o["a"].API_URL,"/evidences?limit=").concat(e.total)).then(function(e){t.items=e.data.data,Event.$emit("stopLoading")}).catch(function(t){console.dir(t),Event.$emit("stopLoading")})})},isDepartament:function(t){return"BALISTICA"==t&&"OPERADOR_BALISTICA"==this.user.rol||("LABORATORIO"==t&&"OPERADOR_LABORATORIO"==this.user.rol||"HECHOS"==t&&"OPERADOR_HECHOS"==this.user.rol)},goToEdit:function(t,e){return"BALISTICA"==t&&this.$router.push({name:"editArm",params:{id:e}}),"LABORATORIO"==t&&this.$router.push({name:"editClothes",params:{id:e}}),"HECHOS"==t&&this.$router.push({name:"editAct",params:{id:e}}),!1},goToEditReception:function(t){this.$router.push({name:"receptionEdit",params:{id:t}})},isEnabled:function(t){var e=c()(t).add(1,"day").unix()<c()().unix();return!0!==e}}},u=s,l=(n("92ef"),n("2877")),d=Object(l["a"])(u,a,i,!1,null,"5ac136de",null);e["default"]=d.exports},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),i=n("0bfb"),o=n("9e1e"),r="toString",c=/./[r],s=function(t){n("2aba")(RegExp.prototype,r,t,!0)};n("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?s(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):c.name!=r&&s(function(){return c.call(this)})},"92ef":function(t,e,n){"use strict";var a=n("3b01"),i=n.n(a);i.a},db49:function(t,e,n){"use strict";n("cadf"),n("551c");var a={API_URL:"https://cicpc-novedades.herokuapp.com/api/v1",API_IMAGE:"https://cicpc-novedades.herokuapp.com/uploads",API_REPORT:"https://cicpc-report.herokuapp.com/api",RENDER_REPORT:"https://cicpc-report.herokuapp.com/"};e["a"]=a}}]);
//# sourceMappingURL=chunk-4214.7564610f.js.map