(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-362b"],{4838:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"animated fadeIn"},[t("b-row",[t("b-col",{attrs:{sm:"12"}},[t("b-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("strong",[e._v("Crear Nuevo Usuario")])]),t("b-row",[t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{description:"Ej: José Angel",label:"Nombre","laber-for":"firstName",horizontal:!1}},[t("b-form-input",{attrs:{formatter:e.onlyKey,type:"text",id:"firstName"},model:{value:e.user.nombre,callback:function(r){e.$set(e.user,"nombre",r)},expression:"user.nombre"}})],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{description:"Ej: Rodríguez",label:"Apellido","laber-for":"lastName",horizontal:!1}},[t("b-form-input",{attrs:{formatter:e.onlyKey,type:"text",id:"lastName"},model:{value:e.user.apellido,callback:function(r){e.$set(e.user,"apellido",r)},expression:"user.apellido"}})],1)],1)],1),t("b-form-group",{attrs:{description:"Ej: 24847272",label:"Cédula","laber-for":"cedula",horizontal:!1}},[t("b-form-input",{attrs:{formatter:e.validateCedula,type:"number",id:"cedula"},model:{value:e.user.cedula,callback:function(r){e.$set(e.user,"cedula",r)},expression:"user.cedula"}})],1),t("b-form-group",{attrs:{description:"Ej: Ud 104 San Félix, Edo Bolívar",label:"Dirección","laber-for":"address",horizontal:!1}},[t("b-form-input",{attrs:{type:"text",id:"address"},model:{value:e.user.direccion,callback:function(r){e.$set(e.user,"direccion",r)},expression:"user.direccion"}})],1),t("b-form-group",{attrs:{description:"Ej: 04249566351",label:"Teléfono","laber-for":"phone",horizontal:!1}},[t("b-form-input",{attrs:{type:"text",id:"phone"},model:{value:e.user.telefono,callback:function(r){e.$set(e.user,"telefono",r)},expression:"user.telefono"}})],1),t("b-row",[t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{description:"Ej: jrodriguez",label:"Nombre de Usuario","laber-for":"username",horizontal:!1}},[t("b-form-input",{attrs:{type:"text",id:"username"},model:{value:e.user.usuario,callback:function(r){e.$set(e.user,"usuario",r)},expression:"user.usuario"}})],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{description:"Ej: ADMINISTRADOR",label:"Rol del usuario","laber-for":"rol",horizontal:!1}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.rol,expression:"user.rol"}],staticClass:"form-control",on:{change:function(r){var t=Array.prototype.filter.call(r.target.options,function(e){return e.selected}).map(function(e){var r="_value"in e?e._value:e.value;return r});e.$set(e.user,"rol",r.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"ADMINISTRADOR"}},[e._v("ADMINISTRADOR")]),t("option",{attrs:{value:"RECEPCION",default:"",selected:"true"}},[e._v("RECEPCIONISTA")]),t("option",{attrs:{value:"OPERADOR_LABORATORIO"}},[e._v("OPERADOR DE LABORATORIO")]),t("option",{attrs:{value:"OPERADOR_BALISTICA"}},[e._v("OPERADOR DE BALISTICA")]),t("option",{attrs:{value:"OPERADOR_HECHOS"}},[e._v("OPERADOR DE RECONSTRUCCIÓN DE HECHOS")])])])],1)],1),t("b-row",[t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{description:"Ej: Ayub*19_",label:"Contraseña","laber-for":"password",horizontal:!1}},[t("b-form-input",{attrs:{type:"password",id:"password"},model:{value:e.user.contraseña,callback:function(r){e.$set(e.user,"contraseña",r)},expression:"user.contraseña"}})],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{description:"Ej: Ayub*19_",label:"Repetir Contraseña","laber-for":"repeatPassword",horizontal:!1}},[t("b-form-input",{attrs:{type:"password",id:"repeatPassword"},model:{value:e.user.repetirContraseña,callback:function(r){e.$set(e.user,"repetirContraseña",r)},expression:"user.repetirContraseña"}})],1)],1)],1),t("b-row",[t("b-col",{attrs:{sm:"12"}},[t("b-form-group",{attrs:{description:"Ej: manzana estado",label:"Frase","laber-for":"frase",horizontal:!1}},[t("b-form-input",{attrs:{type:"text",id:"frase"},model:{value:e.user.frase,callback:function(r){e.$set(e.user,"frase",r)},expression:"user.frase"}})],1)],1)],1)],1),t("div",{staticClass:"form-actions"},[t("b-button",{staticClass:"mr",attrs:{type:"submit",variant:"primary"},on:{click:function(r){e.storeUser()}}},[e._v("\n          Crear\n        ")]),t("b-button",{attrs:{type:"button",variant:"secondary"},on:{click:function(r){e.$router.go(-1)}}},[e._v("\n          Cancelar\n        ")])],1)],1)],1)],1)},o=[],s=(t("4917"),t("cadf"),t("551c"),t("db49")),n=t("1940"),i=t.n(n),l={data:function(){return{user:{}}},mounted:function(){axios.defaults.headers.common["authorization"]=localStorage.getItem("token")},methods:{storeUser:function(){var e=this;if(this.user.contraseña!=this.user.repetirContraseña)return i()({title:"Atención",text:"Las contraseñas no coinciden",icon:"error"}),"";Event.$emit("loading"),axios.post("".concat(s["a"].API_URL,"/users"),{usuario:this.user.usuario,nombre:this.user.nombre,apellido:this.user.apellido,direccion:this.user.direccion,"contraseña":this.user.contraseña,cedula:this.user.cedula,rol:this.user.rol,frase:this.user.frase}).then(function(r){i()({title:"Usuario registrado correctamente",text:"El usuario ".concat(r.data.usuario," se ha registrado correctamente"),icon:"success"}),e.$router.push({name:"userList"}),Event.$emit("stopLoading")}).catch(function(e){Event.$emit("stopLoading"),e.response.data.message&&i()({title:"Atención",text:"".concat(e.response.data.message),icon:"error"}),e.response.data.errors&&i()({title:"Atención",text:"".concat(e.response.data.errors[0].message),icon:"error"}),e.response.data.original.sqlMessage&&i()({title:"Atención",text:"".concat(e.response.data.original.sqlMessage),icon:"error"})})},validateCedula:function(e,r){return e.length>8?e.substr(0,8):e},onlyKey:function(e,r){return null!=e.match(/^[a-zA-Z\s]*$/)?e:e.substr(0,e.length-1)}}},u=l,c=(t("6a50"),t("2877")),d=Object(c["a"])(u,a,o,!1,null,null,null);r["default"]=d.exports},"6a50":function(e,r,t){"use strict";var a=t("994c"),o=t.n(a);o.a},"994c":function(e,r,t){}}]);
//# sourceMappingURL=chunk-362b.6ece5393.js.map