(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4735"],{"0697":function(t,e,n){},"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),o=n("0bfb"),i=n("9e1e"),r="toString",c=/./[r],s=function(t){n("2aba")(RegExp.prototype,r,t,!0)};n("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?s(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):c.name!=r&&s(function(){return c.call(this)})},aeb7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",{staticClass:"ml-auto",attrs:{md:"4",sm:"12"}},[n("b-form-group",{attrs:{label:"Buscar por Fecha","laber-for":"date",horizontal:!1}},[n("b-form-input",{attrs:{type:"date",placeholder:"Buscar por fecha"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),n("b-col",{attrs:{cols:"12",xl:"12"}},[n("transition",{attrs:{name:"slide"}},[n("b-card",{attrs:{header:t.caption}},[n("b-table",{attrs:{hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,responsive:"sm",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage},scopedSlots:t._u([{key:"id",fn:function(e){return[n("strong",[t._v(t._s(e.item.id))])]}},{key:"tipo",fn:function(e){return[n("strong",[t._v(t._s(e.item.tipo_recepcion))])]}},{key:"usuario",fn:function(e){return[n("strong",{directives:[{name:"show",rawName:"v-show",value:e.item.Usuario.usuario,expression:"data.item.Usuario.usuario"}]},[t._v("\n            "+t._s(e.item.Usuario.usuario)+"\n          ")])]}},{key:"descripción",fn:function(e){return[n("strong",[t._v(t._s(t._f("textShort")(e.item.descripcion)))])]}},{key:"fecha",fn:function(e){return[t._v("\n         "+t._s(t._f("listDate")(e.item.f_creacion))+"\n        ")]}},{key:"acción",fn:function(e){return[t.isEnabled(e.item.f_creacion)?n("b-button",{staticClass:"btn-pill",attrs:{variant:"success"},on:{click:function(n){t.goToEdit(e.item.id)}}},[t._v("Actualizar")]):t._e(),n("b-button",{staticClass:"btn-pill sp-t",attrs:{variant:"primary"},on:{click:function(n){t.goToDetail(e.item.id)}}},[t._v("Detalles")])]}}])}),n("nav",[n("b-pagination",{attrs:{size:"sm","total-rows":t.getRowCount(t.items),"per-page":t.perPage,"prev-text":"Prev","next-text":"Next","hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1),n("b-col",{attrs:{sm:"12"}},[n("b-button",{staticClass:"btn-pill",attrs:{variant:"success"},on:{click:function(e){t.generateReport()}}},[t._v("\n        Generar Reporte\n      ")])],1)],1)},o=[],i=(n("ac6a"),n("28a5"),n("6b54"),n("cadf"),n("551c"),n("db49")),r=n("c1df"),c=n.n(r);c.a.locale("es");var s={name:"Usuarios",props:{caption:{type:String,default:"Listado de Recepción"},hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1}},data:function(){return{items:[],fields:[{key:"tipo"},{key:"usuario"},{key:"descripción"},{key:"fecha"},{key:"acción"}],currentPage:1,perPage:15,totalRows:0,date:c()().format("YYYY-MM-DD")}},computed:{},watch:{date:function(){var t=this;Event.$emit("loading"),axios.get("".concat(i["a"].API_URL,"/chronologies?limit=1")).then(function(e){axios.get("".concat(i["a"].API_URL,"/chronologies?limit=").concat(e.total,"&DATE=").concat(t.date)).then(function(e){t.items=e.data.data,Event.$emit("stopLoading")})}).catch(function(t){Event.$emit("stopLoading"),console.dir(t)})}},mounted:function(){axios.defaults.headers.common["authorization"]=localStorage.getItem("token"),this.getChronologies()},methods:{getBadge:function(t){return"Active"===t?"success":"Inactive"===t?"secondary":"Pending"===t?"warning":"Banned"===t?"danger":"primary"},getRowCount:function(t){return t.length},userLink:function(t){return"users/".concat(t.toString())},rowClicked:function(t){var e=this.userLink(t.id);this.$router.push({path:e})},getUsername:function(t){return t.split(" ")[0]},getChronologies:function(){var t=this;Event.$emit("loading"),axios.get("".concat(i["a"].API_URL,"/chronologies?limit=1")).then(function(e){axios.get("".concat(i["a"].API_URL,"/chronologies?limit=").concat(e.total,"&DATE=").concat(t.date)).then(function(e){t.items=e.data.data,Event.$emit("stopLoading")}).catch(function(t){console.dir(t),Event.$emit("stopLoading")})})},generateReport:function(){var t=this;Event.$emit("loading");var e="Ciudad Guayana, ".concat(c()(this.date,"YYYY-MM-DD").format("dddd Do MMMM  YYYY")),n=this.items;n.forEach(function(t){t.f_creacion=c()(t.f_creacion).format("h:mm:ss a")});var a={data:n,date:e};axios.post("".concat(i["a"].API_REPORT,"/reception"),{data:a}).then(function(e){t.getChronologies(),window.open(i["a"].RENDER_REPORT+"/"+e.data,"_blank"),Event.$emit("stopLoading")}).catch(function(t){console.dir(t),Event.$emit("stopLoading")})},goToEdit:function(t){this.$router.push({name:"receptionEdit",params:{id:t}})},goToDetail:function(t){this.$router.push({name:"receptionDetail",params:{id:t}})},isEnabled:function(t){var e=c()(t).add(1,"day").unix()<c()().unix();return!0!==e}}},u=s,l=(n("b7c7"),n("2877")),d=Object(l["a"])(u,a,o,!1,null,"5a061f39",null);e["default"]=d.exports},b7c7:function(t,e,n){"use strict";var a=n("0697"),o=n.n(a);o.a},db49:function(t,e,n){"use strict";n("cadf"),n("551c");var a={API_URL:"https://cicpc-novedades.herokuapp.com/api/v1",API_IMAGE:"https://cicpc-novedades.herokuapp.com/uploads",API_REPORT:"https://cicpc-report.herokuapp.com/api",RENDER_REPORT:"https://cicpc-report.herokuapp.com/"};e["a"]=a}}]);
//# sourceMappingURL=chunk-4735.95555f6b.js.map